# ğŸ¥ ë¬´ì†Œì‹(ç„¡æ¶ˆæ¯) - ë…¸ì¸ ìƒì¡´ ì‹ ê³  ì•±

> **24ì‹œê°„ ì•ˆë¶€ í™•ì¸ ì‹œìŠ¤í…œ**ìœ¼ë¡œ ì–´ë¥´ì‹ ì˜ ì•ˆì „ì„ ì§€í‚¤ëŠ” React Native ì•±

![React Native](https://img.shields.io/badge/React_Native-0.76.6-61DAFB?logo=react)
![Expo](https://img.shields.io/badge/Expo-~52.0-000020?logo=expo)
![TypeScript](https://img.shields.io/badge/TypeScript-5.3.3-3178C6?logo=typescript)
![Supabase](https://img.shields.io/badge/Supabase-Backend-3ECF8E?logo=supabase)

## ğŸ“‹ ëª©ì°¨
- [ê°œìš”](#-ê°œìš”)
- [ì£¼ìš” ê¸°ëŠ¥](#-ì£¼ìš”-ê¸°ëŠ¥)
- [ê¸°ìˆ  ìŠ¤íƒ](#-ê¸°ìˆ -ìŠ¤íƒ)
- [í”„ë¡œì íŠ¸ êµ¬ì¡°](#-í”„ë¡œì íŠ¸-êµ¬ì¡°)
- [ì‹œì‘í•˜ê¸°](#-ì‹œì‘í•˜ê¸°)
- [í™˜ê²½ ì„¤ì •](#-í™˜ê²½-ì„¤ì •)
- [ë°°í¬](#-ë°°í¬)
- [ë¼ì´ì„ ìŠ¤](#-ë¼ì´ì„ ìŠ¤)

## ğŸ“– ê°œìš”

**ë¬´ì†Œì‹(ç„¡æ¶ˆæ¯)**ì€ í˜¼ì ì‚¬ëŠ” ì–´ë¥´ì‹ ë“¤ì˜ ì•ˆì „ì„ ì§€í‚¤ê¸° ìœ„í•œ **ìƒì¡´ ì‹ ê³  ì•±**ì…ë‹ˆë‹¤.

### í•µì‹¬ ê°€ì¹˜
- ğŸ¯ **ê°„ë‹¨í•œ ì¶œì„**: í•˜ë£¨ í•œ ë²ˆ, í° ë²„íŠ¼ í„°ì¹˜ë¡œ ì•ˆë¶€ ì „ë‹¬
- ğŸ”” **ìë™ ì•Œë¦¼**: 24ì‹œê°„ ë¯¸ì ‘ì† ì‹œ ìë™ ì•ˆë¶€ í™•ì¸ ì•Œë¦¼
- ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ **ë¹„ìƒì—°ë½ë§**: ìµœëŒ€ 3ëª…ì˜ ë³´í˜¸ì ì—°ë½ì²˜ ê´€ë¦¬
- ğŸ§  **ì¹˜ë§¤ ì˜ˆë°©**: Premium ìœ ì €ëŠ” ë‘ë‡Œ í›ˆë ¨ ìˆ˜í•™ ë¬¸ì œ í’€ì´

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### 1. **ì¼ì¼ ìƒì¡´ ì‹ ê³ **
- âœ… 300x300px ëŒ€í˜• ì›í˜• ë²„íŠ¼ (ë…¸ì¸ ì¹œí™”ì )
- âœ… í•˜ë£¨ 1íšŒ ì¶œì„ ì²´í¬
- âœ… ì˜¤ëŠ˜ ì¶œì„ ì—¬ë¶€ ìë™ í™•ì¸ (ìƒˆë¡œê³ ì¹¨ ì‹œ ìœ ì§€)

### 2. **ì‚¬ìš©ì ê´€ë¦¬**
- âœ… ì „í™”ë²ˆí˜¸ ê¸°ë°˜ íšŒì›ê°€ì…/ìë™ ë¡œê·¸ì¸
- âœ… ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ë¡œ ìë™ ë¡œê·¸ì¸
- âœ… ë°ì´í„° ì´ˆê¸°í™” ê¸°ëŠ¥

### 3. **ë¹„ìƒì—°ë½ë§ ê´€ë¦¬**
- âœ… ìµœëŒ€ 3ëª…ì˜ ë³´í˜¸ì ì—°ë½ì²˜ ë“±ë¡
- âœ… ì‹¤ì‹œê°„ ì¶”ê°€/ì‚­ì œ
- âœ… Supabase + AsyncStorage ì–‘ë°©í–¥ ë™ê¸°í™”

### 4. **Premium ê¸°ëŠ¥** ğŸ‘‘
- âœ… ì¹˜ë§¤ ì˜ˆë°© ë‘ë‡Œ í›ˆë ¨ (ë‘ ìë¦¬ ìˆ˜ ë§ì…ˆ)
- âœ… ì •ë‹µì„ ë§ì¶°ì•¼ ì¶œì„ ì™„ë£Œ
- âœ… ì„¤ì •ì—ì„œ Premium ëª¨ë“œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥

### 5. **í‘¸ì‹œ ì•Œë¦¼ ì‹œìŠ¤í…œ** ğŸ””
- âœ… ë¡œê·¸ì¸ ì‹œ ìë™ Expo Push Token ë°œê¸‰
- âœ… Foregroundì—ì„œë„ ì•Œë¦¼ í‘œì‹œ
- âœ… 24ì‹œê°„ ë¯¸ì ‘ì† ì‹œ ìë™ ì•ˆë¶€ í™•ì¸ ì•Œë¦¼
- âœ… Supabase Edge Functionìœ¼ë¡œ ìë™ ë°œì†¡

### 6. **ë²•ë¥  ë¬¸ì„œ**
- âœ… ì´ìš©ì•½ê´€ (WebView)
- âœ… ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ (WebView)
- âœ… ì„¤ì • í™”ë©´ì—ì„œ ì–¸ì œë“ ì§€ í™•ì¸ ê°€ëŠ¥

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### Frontend
- **Framework**: React Native (Expo Managed Workflow)
- **Language**: TypeScript
- **Styling**: NativeWind (Tailwind CSS for React Native)
- **Navigation**: Expo Router (File-based)
- **Icons**: Lucide React Native
- **State**: React Hooks (useState, useEffect, Custom Hooks)

### Backend
- **BaaS**: Supabase
  - PostgreSQL Database
  - Edge Functions (Deno)
  - Row Level Security (RLS)
- **Push**: Expo Push Notification Service

### DevOps
- **Build**: EAS (Expo Application Services)
- **Version Control**: Git + GitHub

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
Anbu/
â”œâ”€â”€ app/                        # Expo Router í™”ë©´
â”‚   â”œâ”€â”€ index.tsx              # ë©”ì¸ í™”ë©´ (230ì¤„, ë¦¬íŒ©í† ë§ë¨)
â”‚   â”œâ”€â”€ _layout.tsx            # ë ˆì´ì•„ì›ƒ ì„¤ì •
â”‚   â””â”€â”€ styles.ts              # ìŠ¤íƒ€ì¼ ì •ì˜
â”‚
â”œâ”€â”€ components/                 # ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ LegalModal.tsx         # ë²•ë¥  ë¬¸ì„œ WebView
â”‚   â””â”€â”€ modals/
â”‚       â”œâ”€â”€ RegisterModal.tsx  # íšŒì›ê°€ì… ëª¨ë‹¬
â”‚       â”œâ”€â”€ MathChallengeModal.tsx  # ìˆ˜í•™ ë¬¸ì œ ëª¨ë‹¬
â”‚       â””â”€â”€ SettingsModal.tsx  # ì„¤ì • ëª¨ë‹¬
â”‚
â”œâ”€â”€ hooks/                      # ì»¤ìŠ¤í…€ í›…
â”‚   â”œâ”€â”€ useUserManagement.ts   # ì‚¬ìš©ì ê´€ë¦¬ (ë“±ë¡/ë¡œê·¸ì¸/Premium)
â”‚   â””â”€â”€ useCheckIn.ts          # ì¶œì„ ì²´í¬ ë¡œì§
â”‚
â”œâ”€â”€ utils/                      # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚   â”œâ”€â”€ storage.ts             # AsyncStorage í—¬í¼
â”‚   â”œâ”€â”€ date.ts                # ë‚ ì§œ ê´€ë ¨ í•¨ìˆ˜
â”‚   â””â”€â”€ notificationHelper.ts  # í‘¸ì‹œ ì•Œë¦¼ í•µì‹¬ ë¡œì§
â”‚
â”œâ”€â”€ types/                      # TypeScript íƒ€ì… ì •ì˜
â”‚   â””â”€â”€ index.ts               # UserInfo, MathProblem, etc.
â”‚
â”œâ”€â”€ constants/                  # ìƒìˆ˜
â”‚   â””â”€â”€ index.ts               # ë©”ì‹œì§€, URL, ì„¤ì •ê°’
â”‚
â”œâ”€â”€ lib/                        # ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì •
â”‚   â””â”€â”€ supabase.ts            # Supabase í´ë¼ì´ì–¸íŠ¸
â”‚
â””â”€â”€ supabase/                   # Supabase ì„¤ì •
    â””â”€â”€ functions/
        â””â”€â”€ check-48h-inactivity/  # 24ì‹œê°„ ë¯¸ì ‘ì†ì ì•Œë¦¼ Edge Function
            â””â”€â”€ index.ts
```

## ğŸš€ ì‹œì‘í•˜ê¸°

### 1. ì €ì¥ì†Œ í´ë¡ 

```bash
git clone https://github.com/Imeanstar/musosig.git
cd musosig
```

### 2. íŒ¨í‚¤ì§€ ì„¤ì¹˜

```bash
npm install
```

### 3. í™˜ê²½ ì„¤ì •

#### 3.1 Supabase í”„ë¡œì íŠ¸ ìƒì„±
1. [Supabase](https://supabase.com) íšŒì›ê°€ì…
2. ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±
3. `lib/supabase.ts`ì— URLê³¼ ANON_KEY ì…ë ¥

#### 3.2 ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

```sql
-- users í…Œì´ë¸”
CREATE TABLE users (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  name TEXT NOT NULL,
  phone TEXT UNIQUE NOT NULL,
  emergency_contacts TEXT[] DEFAULT '{}',
  is_premium BOOLEAN DEFAULT false,
  push_token TEXT,
  last_seen_at TIMESTAMPTZ,
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- check_ins í…Œì´ë¸”
CREATE TABLE check_ins (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- ì¸ë±ìŠ¤ ìƒì„± (ì„±ëŠ¥ ìµœì í™”)
CREATE INDEX idx_users_phone ON users(phone);
CREATE INDEX idx_users_last_seen ON users(last_seen_at);
CREATE INDEX idx_checkins_user_created ON check_ins(user_id, created_at);
```

#### 3.3 RLS (Row Level Security) ë¹„í™œì„±í™” (ê°œë°œ ë‹¨ê³„)

```sql
ALTER TABLE users DISABLE ROW LEVEL SECURITY;
ALTER TABLE check_ins DISABLE ROW LEVEL SECURITY;
```

### 4. ì•± ì‹¤í–‰

```bash
# ê°œë°œ ì„œë²„ ì‹œì‘
npm start

# Android
npm run android

# iOS
npm run ios
```

## âš™ï¸ í™˜ê²½ ì„¤ì •

### Expo ì„¤ì • (`app.json`)

```json
{
  "expo": {
    "extra": {
      "eas": {
        "projectId": "fb9d4656-08fb-45dc-bbca-7cfcc423f8b3"
      }
    },
    "plugins": [
      ["expo-notifications", { ... }]
    ]
  }
}
```

### Supabase Edge Function ë°°í¬

```bash
# Supabase CLI ì„¤ì¹˜
npm install -g supabase

# Edge Function ë°°í¬
supabase functions deploy check-48h-inactivity

# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
supabase secrets set SUPABASE_URL=your_url
supabase secrets set SUPABASE_SERVICE_ROLE_KEY=your_key
```

### Cron Job ì„¤ì • (ìë™ ì•Œë¦¼ ë°œì†¡)

Supabase Dashboard > Database > Cron Jobs:

```sql
-- ë§¤ì¼ ì˜¤ì „ 9ì‹œì— 24ì‹œê°„ ë¯¸ì ‘ì†ì ì²´í¬
SELECT cron.schedule(
  'daily-inactivity-check',
  '0 9 * * *',
  $$
  SELECT net.http_post(
    url:='https://[YOUR-PROJECT].supabase.co/functions/v1/check-48h-inactivity',
    headers:='{"Authorization": "Bearer [SERVICE_ROLE_KEY]"}'::jsonb
  ) as request_id;
  $$
);
```

## ğŸ“± ë°°í¬

### EAS Build

```bash
# EAS CLI ì„¤ì¹˜
npm install -g eas-cli

# EAS ë¡œê·¸ì¸
eas login

# Android ë¹Œë“œ
eas build --platform android

# iOS ë¹Œë“œ (Mac í•„ìš”)
eas build --platform ios

# ì•± ìŠ¤í† ì–´ ì œì¶œ
eas submit
```

## ğŸ¨ ë””ìì¸ ì›ì¹™

### "Senior-Friendly" ë””ìì¸
- âœ… **High Contrast**: í° ë°°ê²½ + ê²€ì€ í…ìŠ¤íŠ¸
- âœ… **Large Text**: ìµœì†Œ 16px, ë²„íŠ¼ í…ìŠ¤íŠ¸ 36px
- âœ… **Simple UI**: ë³µì¡í•˜ì§€ ì•Šì€ ë‹¨ìˆœí•œ ì¸í„°í˜ì´ìŠ¤
- âœ… **Big Buttons**: 300x300px ëŒ€í˜• ì›í˜• ë²„íŠ¼

## ğŸ” ë³´ì•ˆ

- ğŸ”’ Supabase RLSë¡œ ë°ì´í„° ë³´í˜¸ (í”„ë¡œë•ì…˜ ì‹œ í™œì„±í™” í•„ìš”)
- ğŸ”‘ SERVICE_ROLE_KEYëŠ” ì„œë²„ ì‚¬ì´ë“œ(Edge Function)ì—ì„œë§Œ ì‚¬ìš©
- ğŸ“± í´ë¼ì´ì–¸íŠ¸ëŠ” ANON_KEYë§Œ ì‚¬ìš©

## ğŸ¤ ê¸°ì—¬

Pull RequestëŠ” ì–¸ì œë‚˜ í™˜ì˜í•©ë‹ˆë‹¤!

1. Fork the Project
2. Create your Feature Branch (`git checkout -b feature/AmazingFeature`)
3. Commit your Changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the Branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## ğŸ“„ ë¼ì´ì„ ìŠ¤

MIT License - ììœ ë¡­ê²Œ ì‚¬ìš©, ìˆ˜ì •, ë°°í¬ ê°€ëŠ¥í•©ë‹ˆë‹¤.

## ğŸ‘¨â€ğŸ’» ê°œë°œì

**Imeanstar** - [GitHub](https://github.com/Imeanstar)

## ğŸ™ ê°ì‚¬ì˜ ë§

ì´ í”„ë¡œì íŠ¸ëŠ” í˜¼ì ì‚¬ëŠ” ì–´ë¥´ì‹ ë“¤ì˜ ì•ˆì „ì„ ìœ„í•´ ë§Œë“¤ì–´ì¡ŒìŠµë‹ˆë‹¤.
ì‘ì€ ê¸°ìˆ ì´ í° ì•ˆì‹¬ì„ ë§Œë“¤ ìˆ˜ ìˆê¸°ë¥¼ ë°”ëë‹ˆë‹¤. ğŸ’™

---

**Project Repository**: https://github.com/Imeanstar/musosig
